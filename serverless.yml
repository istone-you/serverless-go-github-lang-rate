service: serverless-go-github-lang-rate

frameworkVersion: "3"

useDotenv: true

provider:
  name: aws
  runtime: go1.x
  region: ap-northeast-1
  httpApi:
    cors:
      allowedOrigins:
        - https://istoneyou.net
        - http://localhost:3000
      allowedHeaders:
        - Content-Type
        - Authorization
      allowedMethods:
        - POST
      allowCredentials: true

package:
  patterns:
    - "!./**"
    - ./bin/**

functions:
  get:
    handler: bin/get
    timeout: 60
    events:
      - httpApi:
          path: /get
          method: get
    environment:
      GITHUB_USERNAME: ${env:GITHUB_USERNAME}
